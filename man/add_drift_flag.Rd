% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/add_drift_flag.R
\name{add_drift_flag}
\alias{add_drift_flag}
\title{Flag sensor drift in optical measurements}
\usage{
add_drift_flag(df)
}
\arguments{
\item{df}{A data frame containing water quality measurements. Must include columns:
\itemize{
\item \code{parameter}: The measurement type (function checks if it's an optical parameter)
\item \code{mean}: The calculated mean value of measurements
\item \code{flag}: Existing quality flags (will be updated by this function)
\item \code{DT_round}: Timestamp for rolling window analysis
}}
}
\value{
A data frame with the same structure as the input, but with the \code{flag}
column updated to include "drift" for periods showing evidence of sensor drift.
}
\description{
Identifies and flags periods when optical sensors show evidence of progressive drift,
which often indicates biofouling or calibration issues. The function analyzes time series
patterns to detect when measurements show a steady linear trend over time that is
unlikely to represent natural environmental conditions.

The function only processes optical parameters prone to biofouling:
\itemize{
\item FDOM Fluorescence
\item Turbidity
\item Chl-a Fluorescence
}

For other parameters, the function returns the dataframe unchanged.
}
\examples{
# Flag drift in turbidity measurements
turbidity_flagged <- add_drift_flag(df = all_data_summary_stats_list$`riverbluffs-Turbidity`)

# Flag drift in chlorophyll measurements
chlorophyll_flagged <- add_drift_flag(df = all_data_summary_stats_list$`boxelder-Chl-a Fluorescence`)

# Function will not modify non-optical parameter data
temperature_data <- add_drift_flag(df = all_data_summary_stats_list$`riverbluffs-Temperature`)

}
\seealso{
\code{\link[=add_flag]{add_flag()}}
}
